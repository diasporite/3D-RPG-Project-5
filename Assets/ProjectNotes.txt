
3D RPG PROJECT 5 NOTES

- Builds on 3D RPG Project 4
  - Time slow mechanics removed [SCRAPPED]
- Attacks can only be used at full stamina or during an attack chain
  - Consider renaming stamina to charge
- Defensive actions can be performed anytime
- Standby party members build stamina slower (currently 2/3x speed)

26/9/22
- Working on movement

28/9/22
- Imported UI from 3D RPG Project 3-4

29/9/22
- Basic actions set up (jump, run, guard)
- Health/stamina bars functional

30/9/22
- Imported Maria animations
  - Look at techniques for tuning walking speeds
- Linear side scroll movement
- BUG: Attack animations get skipped
  - Revert to individual ControllerActionState instances for each attack

1/10/22
- Attack animations working
  - Anim.Play(hash, 0) does not allow reentering animation
  - Use Anim.Play(hash, 0, 0f) to reset same animation
- Basic character switching
- UI work (char info, party panels)
- TO DO: Cameras
  - Each camera is a cube for viewing/debug purposes
  - Cameras move, CameraController on main camera moves towards current camera

2/10/22 - 4/10/22
- Started work on cameras
- Started work on relative motion
- Started work on 1st person movement
- Basic dodging
- Added power (PP) bar
- ActionData and CharData
- Imported Mutant
- BUGS: 
  - Side scroll camera flips between sides when moving between left/right [FIXED]
  - Jump cancels out of roll [FIXED]
  - Power bar not initialising properly [FIXED]

6/10/22
- Basic enemy AI
  - Aggro system
  - Add weighting to action sequences

7/10/22
- Started work on targeting
- TO DO:
  - Targeting camera

8/10/22 - 13/10/22
- Work on locked 3rd person camera
  - Camera jitter
    - Interpolate rotation as well as position
  - Locked cam wrapping issue
- Higher stamina regen for enemies
- Enemy rotates towards player when locked
- Consider adding TimeController from 3D RPG Project 4
  - Consider automated dodging/blocking
- Hit detection
  - Remember to fill hitbox windows for actions
- Forward movement during attacks
- Enemy health bar
- Run and Guard input variables
- Added Erika
- TO DO:
  - Implement stopping distance for enemy AI to prevent jitter
  - Implement timer for pausing stamina regen when hit [DONE]
  - Fix CharInfo bar shadows [FIXED]
    - Resource initialisation moved to Init(), called in Controller, instead of Start()

14/10/22 - 20/10/22
- Improved cm.GetNormalizeTime() method
- Health shared between party, stamina and power specific to individual characters
- Implemented TimeController slow down mechanics (similar to 3D RPG Project 4)
- Added SWAT Guy
- Added shooting
- Added knockback
  - Damping may need adjusting
- CONSIDER:
  - Faster movement/attacks for TimeController
  - Switching back to Cinemachine cameras
  - Making basic 3D environments in Blender
- TO DO:
  - Enemy health bars
    - Show/hide depending on range to player
    - Health bars appear for enemies behind camera
    - Particle effects to clearly indicate hitboxes
	- Issue w/ Erika animations - names different between prefab and animation clip
	- Switch character controller collision off when dead

23/10/2022
- Imported Paladin model (setup to be completed)

=========================================================================================

22/11/22 - 23/11/22
- Massive refactor from 3D RPG Project 6
  - Importing main menu
  - Transition from main menu to game
  - Spawning logic
- Game over sequence
  - Basic complete game loop
- Kill planes
  - Flat damage
- Scaled time UI
- TO DO:
  - Game menu
    - Only have 'save and quit' option for start
	  - Implement only quit for now
  - Fix health bar [FIXED]
  - Fix camera when respawning (instant follow) [FIXED]

24/11/22 - 26/11/22
- Some work on side UI
- Debug game over cheat
- Moved back to single stamina
- TO DO: 
  - Remove stamina bars from party panels
  - Serializable Action classes
    - Action validity checks
      - Colliders for obstruction detection
  - Refine single stamina system
  - Refine hitbox logic (see Hitbox.cs top comment)

27/11/22 - 28/11/22
- More work on side UI
- Added basic minimap
  - Add direction indicators
- Replaced individual ticks with ResourceTick() method
- Adding element system
- TO DO: 
  - Fix fill shadows on stat bars
  - Fix projectile trails (shows black)
  - Fix projectile rotation (doesn't look like it's rotating about forward axis)
- IDEAS:
  - Move away from hitbox based detection
    - Use area based detection (how far and what angle target is at from player)
  - Distance decay
    - Attacks get weaker at further distances
    - Primarily used for projectiles
    - Decay modes
      - None - no change in damage with distance
	  - Linear - linear decrease with distance
	  - Slow exponential - inital slow decrease, gets faster approaching 1 (normalised)
	  - Fast exponential - standard exp decay curve, faster at start
  - Enemy AI
    - Enemy attacks triggered by player movment/action
	  - Pulse sent out when player acts/moves for long enough time (use cooldown for timer)
	    - Use expanding sphere collider for pulse
		- Time pulse to occur towards end of player action
		  - All actions (player, enemy) are of similar length
		- Detach pulse from player so it originates from constant position
	  - Enemy decides action when pulse hits
	- Enemies can only attack by themselves when in position for backstab

29/11/22
- Start work on new AI system

6/12/22 - 
- Start work on revamped EnemyStats
- Experiment - change dodge to teleport
- TO DO:
  - Change back to point based usage (scrap power bar)

RESOURCES
- Bezier curves (30/9/22)
  - https://en.wikipedia.org/wiki/B%C3%A9zier_curve